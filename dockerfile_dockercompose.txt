External server :Webserver : IISVirtual Domain : https://uat-eli.myequity.id/va-bcaIP : 172.16.155.3Middleware (API)Webserver : ApachePHP : 7.2IP : 172.16.158.10Virtual Domain : uat-api-va-bca-----------------------------------------------------------------------------# docker-compose.ymlversion: '3'services:  web:    image: eli-web-php:0.1    container_name: uat-dmz2_web    restart: always    ports:      - "80:80"      - "443:443"    volumes:      - /data/config/httpd/conf.d/:/etc/httpd/conf.d/      - /data/config/hosts:/etc/hosts      - /data/config/httpd/httpd.conf:/etc/httpd/conf/httpd.conf      - /data/html/:/var/www/html/-----------------------------------------------------------------------------# Dockerfile# InstallFROM centosRUN yum update -y# Install ApacheRUN yum install -y httpdRUN yum install -y httpd-toolsRUN curl https://packages.microsoft.com/config/rhel/7/prod.repo > /etc/yum.repos.d/mssql-release.repoRUN yum remove unixODBC-utf16 unixODBC-utf16-devel #to avoid conflictsRUN ACCEPT_EULA=Y yum install msodbcsql -y# optional: for bcp and sqlcmdRUN ACCEPT_EULA=Y yum install mssql-tools -yRUN echo 'export PATH="$PATH:/opt/mssql-tools/bin"' >> ~/.bash_profileRUN echo 'export PATH="$PATH:/opt/mssql-tools/bin"' >> ~/.bashrcRUN source ~/.bashrc# optional: for unixODBC development headersRUN yum install unixODBC-devel -y# Install PHP 7.2RUN yum install epel-release yum-utils -yRUN yum install http://rpms.remirepo.net/enterprise/remi-release-7.rpm -yRUN yum-config-manager --enable remi-php72RUN yum install php php-pdo php-common php-opcache php-mcrypt php-cli php-gd php-curl php-mysql -y# RUN yum --enablerepo=remi install php72-php-sqlsrv -yRUN yum install php72-php-sqlsrv.x86_64 -yRUN echo extension=pdo_sqlsrv.so >> `php --ini | grep "Scan for additional .ini files" | sed -e "s|.*:\s*||"`/30-pdo_sqilsrv.iniRUN echo extension=sqlsrv.so >> `php --ini | grep "Scan for additional .ini files" | sed -e "s|.*:\s*||"`/20-sqlsrv.iniRUN echo "extension=pdo_sqlsrv.so" >> /etc/php/7.3/apache2/conf.d/30-pdo_sqlsrv.iniRUN echo "extension=sqlsrv.so" >> /etc/php/7.3/apache2/conf.d/20-sqlsrv.ini# Create Folder Aplikasi API# RUN mkdir -p /data/html/uat-api-mbi# COPY /data/html/uat-api-mbi/    /data/html/uat-api-mbi# Copy config apache# WORKDIR /# COPY *.conf /etc/httpd/conf.d/# Aktifkan apacheCMD ["/usr/sbin/httpd","-D","FOREGROUND"]# Running# docker build - < Dockerfile -t "eli-web-php:0.2"# docker run -d -p 80:80 --name test1 -v /data/html/uat-api-mbi/:/var/www/html/uat-api-mbi eli-webserver:0.1# Jika container hilang,driver sql server tidak jalan, jalankansudo yum install sqlsrvsudo yum install pdo_sqlsrvsudo yum install php-sqlsrv# Ketika semua sudah jalan apache + PHP + SQLsrv, jalan kan php artisan queue:listen --tries=1 --timeout=0(harus di folder uat-api-va-bca)#Link SQL Server Driverhttps://docs.microsoft.com/en-us/sql/connect/php/installation-tutorial-linux-mac?view=sql-server-ver15Folder /uat-api-va-bca/storagechown -R apache:grp-it-deploy storagechmod g+s storage